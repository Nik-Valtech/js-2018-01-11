!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(n){o(this,e),this._element=n}return i(e,[{key:"on",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._element.addEventListener(e,function(e){t&&!e.target.closest(t)||n(e)})}},{key:"off",value:function(e,n){this._element.removeEventListener(e,n)}},{key:"_trigger",value:function(e,n){var t=new CustomEvent(e,{detail:n});this._element.dispatchEvent(t)}},{key:"hide",value:function(){this._element.classList.add("hidden")}},{key:"show",value:function(){this._element.classList.remove("hidden")}}]),e}();n.default=a},function(e,n,t){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(t(2));new o.default({element:document.querySelector("[data-page-container]")})},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=o(t(3)),l=o(t(4)),d=o(t(5)),u=o(t(6)),s=o(t(7)),f=function(){function e(n){var t=n.element;r(this,e),this._element=t,this._query="",this._sortField="",this._render(),this._initPhonesCatalogue(),this._initControls(),this._initShoppingCart(),this._initPhoneDetails()}return a(e,[{key:"_initPhonesCatalogue",value:function(){var e=this;this._phonesCatalogue=new c.default({element:this._element.querySelector('[data-component="phones-catalogue"]')});var n=l.default.getPhones();setTimeout(function(){n.then(e._showPhones.bind(e))},2e3),this._phonesCatalogue.on("phoneAdded",function(n){var t=n.detail;e._shoppingCart.addItem(t)}),this._phonesCatalogue.on("phoneSelected",function(n){var t=n.detail;l.default.getPhone(t).then(function(n){e._phoneDetails.show(n),e._phonesCatalogue.hide()})})}},{key:"_initControls",value:function(){var e=this;this._controls=new u.default({element:this._element.querySelector('[data-component="phones-controls"]')}),this._controls.on("filter",function(n){e._query=n.detail,l.default.getPhones({query:e._query,order:e._sortField}).then(e._showPhones.bind(e))}),this._controls.on("sort",function(n){e._sortField=n.detail,l.default.getPhones({query:e._query,order:e._sortField}).then(e._showPhones.bind(e))})}},{key:"_initShoppingCart",value:function(){this._shoppingCart=new d.default({element:this._element.querySelector('[data-component="shopping-cart"]'),items:[1,2,3]})}},{key:"_initPhoneDetails",value:function(){var e=this;this._phoneDetails=new s.default({element:this._element.querySelector('[data-component="phone-details"]')}),this._phoneDetails.on("addBtnClicked",function(n){var t=n.detail;e._shoppingCart.addItem(t)}),this._phoneDetails.on("backBtnClicked",function(){e._phonesCatalogue.show(),e._phoneDetails.hide()})}},{key:"_showPhones",value:function(e){this._phonesCatalogue.setPhones(e)}},{key:"_render",value:function(){}}]),e}();n.default=f},function(e,n,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function c(e,n){if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(t(0)),s=function(e){function n(e){var t,o=e.element;return r(this,n),t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o)),t.on("click",t._onPhoneItemClicked.bind(d(t)),'[data-element="phone-item"]'),t}return l(n,e),a(n,[{key:"setPhones",value:function(e){this._phones=e,this._render()}},{key:"_onPhoneItemClicked",value:function(e){var n=e.target.closest('[data-element="phone-item"]');if("phone-add-btn"===e.target.dataset.element)return void this._trigger("phoneAdded",n.dataset.phoneId);this._trigger("phoneSelected",n.dataset.phoneId)}},{key:"_render",value:function(){var e="",n=this._filterTemplate?this._filterByName():this._phones,t=!0,o=!1,r=void 0;try{for(var i,a=n[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;e+='\n        <li class="thumbnail"\n            data-element="phone-item"\n            data-phone-id="'.concat(c.id,'">\n\n          <a href="#!/phones/').concat(c.id,'" class="thumb">\n            <img alt="').concat(c.name,'" src="').concat(c.imageUrl,'">\n          </a>\n          <div class="phones__btn-buy-wrapper">\n            <a class="btn btn-success" href="#!/add/').concat(c.id,'" data-element="phone-add-btn">Add</a>\n          </div>\n          <a href="#!/phones/').concat(c.id,'">').concat(c.name,"</a>\n          <p>").concat(c.snippet,"</p>\n        </li>\n      ")}}catch(e){o=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(o)throw r}}this._element.innerHTML='\n      <h2>Catalogue</h2>\n      <ul class="phones">'.concat(e,"</ul>\n    ")}}]),n}(u.default);n.default=s},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a="https://mgrinko.github.io/js-2018-01-11/data",c=function(){function e(){o(this,e)}return i(e,null,[{key:"getPhones",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.query,t=e.order;return fetch("https://mgrinko.github.io/js-2018-01-11/data/phones/phones.json").then(function(e){return e.json()}).then(function(e){var o=e;if(n){var r=n.toLowerCase();o=o.filter(function(e){return e.name.toLowerCase().includes(r)})}return t&&(o=o.sort(function(e,n){return e[t]>n[t]})),o})}},{key:"getPhone",value:function(e){var n=a+"/phones/".concat(e,".json");return fetch(n).then(function(e){return e.json()})}}]),e}();n.default=c},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(n){var t=n.element,r=n.items,i=void 0===r?[]:r;o(this,e),this._element=t,this._items=i,this._render()}return i(e,[{key:"addItem",value:function(e){this._items.push(e),this._render()}},{key:"_render",value:function(){var e=this._items.map(function(e){return"<li>".concat(e,"</li>")}).join("");this._element.innerHTML="\n      <p>Shopping Cart</p>\n      <ul>\n        ".concat(e,"\n      </ul>\n    ")}}]),e}();n.default=a},function(e,n,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function c(e,n){if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=function(e){return e&&e.__esModule?e:{default:e}}(t(0)),u=function(e){function n(e){var t,o=e.element;r(this,n),t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o)),t._render();var i=o.querySelector('[data-element="filter-control"]'),a=o.querySelector('[data-element="sort-control"]');return i.addEventListener("input",function(){t._trigger("filter",i.value)}),a.addEventListener("change",function(){t._trigger("sort",a.value)}),t}return l(n,e),a(n,[{key:"_render",value:function(){this._element.innerHTML='\n      <p>\n        Search:\n        <input data-element="filter-control">\n      </p>\n\n      <p>\n        Sort by:\n        <select data-element="sort-control">\n          <option value="name">Alphabetical</option>\n          <option value="age">Newest</option>\n        </select>\n      </p>\n    '}}]),n}(d.default);n.default=u},function(e,n,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function c(e,n){if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,n,t){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,n,t)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(t)}function d(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(t(0)),f=function(e){function n(e){var t,o=e.element;return r(this,n),t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o)),t.on("click",t._triggerBack.bind(u(t)),'[data-element="back-btn"]'),t.on("click",t._triggerAdd.bind(u(t)),'[data-element="add-btn"]'),t.on("click",t._onImgClick.bind(u(t)),"img"),t}return d(n,e),a(n,[{key:"show",value:function(e){this._render(e),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"show",this).call(this)}},{key:"_triggerBack",value:function(){this._trigger("backBtnClicked")}},{key:"_triggerAdd",value:function(){this._trigger("addBtnClicked",this._element.dataset.phoneId)}},{key:"_onImgClick",value:function(e){this._element.querySelector("img.phone").src=e.target.src}},{key:"_render",value:function(e){var n='\n      <div>\n\n        <img class="phone" src="'.concat(e.images[0],'">\n\n        <button data-element="back-btn">Back to list</button>\n        <button data-element="add-btn"><b>Add to basket</b></button>\n\n\n        <h1>').concat(e.name,"</h1>\n\n        <p>").concat(e.description,'</p>\n\n        <ul class="phone-thumbs">\n          ').concat(e.images.map(function(e){return'\n              <li>\n                <img src="'.concat(e,'">\n              </li>\n            ')}).join(""),'\n        </ul>\n\n        <ul class="specs">\n          <li>\n            <span>Availability and Networks</span>\n            <dl>\n              <dt>Availability</dt>\n              <dd>').concat(e.availability||"-","</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Battery</span>\n            <dl>\n              <dt>Type</dt>\n              <dd>").concat(e.battery.type,"</dd>\n              <dt>Talk Time</dt>\n              <dd>").concat(e.battery.talkTime||"-","</dd>\n              <dt>Standby time (max)</dt>\n              <dd>").concat(e.battery.standbyTime||"-","</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Storage and Memory</span>\n            <dl>\n              <dt>RAM</dt>\n              <dd>").concat(e.storage.ram,"</dd>\n              <dt>Internal Storage</dt>\n              <dd>").concat(e.storage.flash,"</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Connectivity</span>\n            <dl>\n              <dt>Network Support</dt>\n              <dd>").concat(e.connectivity.cell,"</dd>\n              <dt>WiFi</dt>\n              <dd>").concat(e.connectivity.wifi,"</dd>\n              <dt>Bluetooth</dt>\n              <dd>").concat(e.connectivity.bluetooth,"</dd>\n              <dt>Infrared</dt>\n              <dd>").concat(e.connectivity.infrared?"✓":"✘","</dd>\n              <dt>GPS</dt>\n              <dd>").concat(e.connectivity.gps?"✓":"✘","</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Android</span>\n            <dl>\n              <dt>OS Version</dt>\n              <dd>").concat(e.android.os,"</dd>\n              <dt>UI</dt>\n              <dd>").concat(e.android.ui,"</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Size and Weight</span>\n            <dl>\n              <dt>Dimensions</dt>\n              ").concat(e.sizeAndWeight.dimensions.map(function(e){return"<dd>".concat(e,"</dd>")}).join(""),"\n              <dt>Weight</dt>\n              <dd>").concat(e.sizeAndWeight.weight,"</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Display</span>\n            <dl>\n              <dt>Screen size</dt>\n              <dd>").concat(e.display.screenSize,"</dd>\n              <dt>Screen resolution</dt>\n              <dd>").concat(e.display.screenResolution,"</dd>\n              <dt>Touch screen</dt>\n              <dd>").concat(e.display.touchScreen?"✓":"✘","</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Hardware</span>\n            <dl>\n              <dt>CPU</dt>\n              <dd>").concat(e.hardware.cpu,"</dd>\n              <dt>USB</dt>\n              <dd>").concat(e.hardware.cpu,"</dd>\n              <dt>Audio / headphone jack</dt>\n              <dd>").concat(e.hardware.cpu,"</dd>\n              <dt>FM Radio</dt>\n              <dd>").concat(e.hardware.cpu?"✓":"✘","</dd>\n              <dt>Accelerometer</dt>\n              <dd>").concat(e.hardware.cpu?"✓":"✘","</dd>\n              ").concat(e.hardware.physicalKeyboard?"<dt>Physical keyboard</dt><dd>✓</dd>":"","\n            </dl>\n          </li>\n          <li>\n            <span>Camera</span>\n            <dl>\n              <dt>Primary</dt>\n              <dd>").concat(e.camera.primary,"</dd>\n              <dt>Features</dt>\n              <dd>").concat(e.camera.features,"</dd>\n            </dl>\n          </li>\n          <li>\n            <span>Additional Features</span>\n            <dd>").concat(e.additionalFeatures,"</dd>\n          </li>\n        </ul>\n      </div>\n    ");this._element.innerHTML=n,this._element.dataset.phoneId=e.id}}]),n}(s.default);n.default=f}]);
//# sourceMappingURL=build.js.map